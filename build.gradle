group 'com.lombok.demo'
version '1.0-SNAPSHOT'

apply plugin: 'java'

buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "gradle.plugin.net.franz-becker:gradle-lombok:1.5"
    }
}

apply plugin: "net.franz-becker.gradle-lombok"

sourceCompatibility = 1.8


apply plugin: "net.franz-becker.gradle-lombok"

repositories {
    mavenCentral()
}

dependencies {
    compile'org.mapstruct:mapstruct-jdk8:1.0.0.Final'
    compile'org.mapstruct:mapstruct-processor:1.0.0.Final'
    testCompile 'org.assertj:assertj-core:3.2.0'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}


import net.franz_becker.gradle.lombok.task.DelombokTask

task delombok(type: DelombokTask) {
    args("src/lombok/java", "-d", "build/src/main/java")
}

task delombokHelp(type: DelombokTask) {
    args "--help"
}

gradle.projectsEvaluated {
    compileJava.dependsOn(delombok)
}

sourceSets {
    main {
        java {
            srcDir 'build/src/main/java'
        }
    }
}